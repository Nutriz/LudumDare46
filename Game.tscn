[gd_scene load_steps=11 format=2]

[ext_resource path="res://Player/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Customer/Customer.tscn" type="PackedScene" id=2]
[ext_resource path="res://World/World.tscn" type="PackedScene" id=3]
[ext_resource path="res://Game.gd" type="Script" id=4]
[ext_resource path="res://Navigation.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/Plate.tscn" type="PackedScene" id=6]

[sub_resource type="BoxShape" id=1]
extents = Vector3( 0.8, 0.1, 0.9 )

[sub_resource type="BoxShape" id=2]
extents = Vector3( 0.365, 0.323, 0.486 )

[sub_resource type="BoxShape" id=3]
extents = Vector3( 0.1, 1.3, 0.5 )

[sub_resource type="BoxShape" id=4]
extents = Vector3( 1.044, 0.194, 0.314 )

[node name="Game" type="Spatial"]
script = ExtResource( 4 )

[node name="Sun" type="DirectionalLight" parent="."]
transform = Transform( 0.582856, 0.756329, -0.297062, 0, 0.365581, 0.93078, 0.812576, -0.54251, 0.213081, -9.00872, 7.19593, 0.11 )

[node name="World" parent="." instance=ExtResource( 3 )]

[node name="Camera" type="InterpolatedCamera" parent="."]
transform = Transform( 0.974217, -0.16422, 0.154704, 0, 0.685704, 0.72788, -0.225614, -0.709113, 0.668024, 2.7708, 9.1261, 7.9144 )
current = true

[node name="Player" parent="." instance=ExtResource( 1 )]
transform = Transform( -2.8213e-07, 0, 1, 0, 1, 0, -1, 0, -2.8213e-07, 3.2417, 0.27209, 3.45196 )
speed = 8

[node name="Camera" type="Camera" parent="Player"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0185151, 1.60135, -0.0491338 )

[node name="TableCustomers" type="Spatial" parent="."]

[node name="Customers" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.466381, 0, 2.18525 )

[node name="Customer" parent="Customers" instance=ExtResource( 2 )]
transform = Transform( -4.07302e-07, 0, 2.5, 0, 2.5, 0, -2.5, 0, -4.07302e-07, 0.1, -0.0369949, 2.66368 )

[node name="Customer2" parent="Customers" instance=ExtResource( 2 )]
transform = Transform( -4.07302e-07, 0, 2.5, 0, 2.5, 0, -2.5, 0, -4.07302e-07, -1.9, -0.0369949, 2.66368 )

[node name="Customer3" parent="Customers" instance=ExtResource( 2 )]
transform = Transform( -4.07302e-07, 0, 2.5, 0, 2.5, 0, -2.5, 0, -4.07302e-07, -3.9, -0.0369949, 2.66368 )

[node name="Customer4" parent="Customers" instance=ExtResource( 2 )]
transform = Transform( -4.07302e-07, 0, 2.5, 0, 2.5, 0, -2.5, 0, -4.07302e-07, -5.9, -0.0369949, 2.66368 )

[node name="CameraPositionRestaurant" type="Position3D" parent="."]
transform = Transform( 0.974217, -0.16422, 0.154704, 0, 0.685704, 0.72788, -0.225614, -0.709113, 0.668024, 2.7708, 9.1261, 7.9144 )

[node name="CameraPositionApartment" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 14.7708, 9.1261, 8.4144 )

[node name="SpawnCustomer" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6.2362, 0.04309, 4.646 )

[node name="OrderPosition" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.3638, 0.04309, 4.646 )

[node name="PlateSpawnerPosition" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.4638, 0.94309, -4.554 )

[node name="PlateSpawnerPosition2" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.1238, 1.98309, -3.854 )

[node name="OrderLookAtPosition" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.764, 1.5, 4.646 )

[node name="OrderZone" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, 5 )
gravity_vec = Vector3( 0, 0, 0 )
gravity = 0.0

[node name="CollisionShape" type="CollisionShape" parent="OrderZone"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 0, -0.3 )
shape = SubResource( 1 )

[node name="DishesZone" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 1, 5 )
gravity_vec = Vector3( 0, 0, 0 )
gravity = 0.0

[node name="CollisionShape" type="CollisionShape" parent="DishesZone"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.4, 0, -10.5 )
shape = SubResource( 1 )

[node name="DishwasherZone" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.54, 0.61, -0.46 )

[node name="CollisionShape" type="CollisionShape" parent="DishwasherZone"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.181, 0, -0.045 )
shape = SubResource( 2 )

[node name="DoorZone" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.1, 1, 2 )
gravity_vec = Vector3( 0, 0, 0 )
gravity = 0.0

[node name="CollisionShape" type="CollisionShape" parent="DoorZone"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.7, 0, 0 )
shape = SubResource( 3 )

[node name="UI" type="Control" parent="."]
margin_right = 40.0
margin_bottom = 40.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="DishesPopup" type="PopupMenu" parent="UI"]
margin_left = 62.0
margin_top = 294.0
margin_right = 162.0
margin_bottom = 364.0
items = [ "Red menu", null, 0, false, false, 0, 0, null, "", false, "Green menu", null, 0, false, false, 1, 0, null, "", false, "Blue menu", null, 0, false, false, 2, 0, null, "", false ]
__meta__ = {
"_edit_use_anchors_": false
}

[node name="OrderMenu" type="AcceptDialog" parent="UI"]
margin_right = 165.0
margin_bottom = 70.0
window_title = "Order"
dialog_text = "Hi, I want a Red menu"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Label" type="Label" parent="UI"]
margin_left = 10.0
margin_top = 10.0
margin_right = 40.0
margin_bottom = 14.0
text = "ZQSD = move
E = action (show popup)
Enter = switch FPS camera"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Navigation" parent="." instance=ExtResource( 5 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.2, -0.529321 )

[node name="Tables" type="Spatial" parent="."]

[node name="Table1" type="Area" parent="Tables"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4.27, 1.078, -4.65 )

[node name="CollisionShape" type="CollisionShape" parent="Tables/Table1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.63, -0.475, 0 )
shape = SubResource( 4 )

[node name="CustomerPosition" type="Position3D" parent="Tables/Table1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.83, -0.878, 0.15 )

[node name="PlatePosition" type="Position3D" parent="Tables/Table1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.709, 0.0700001, 0.0869999 )

[node name="Table2" type="Position3D" parent="Tables"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6.1, 0.2, -2.8 )

[node name="Table3" type="Position3D" parent="Tables"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6.1, 0.2, -1 )

[node name="Table4" type="Position3D" parent="Tables"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6.1, 0.2, 0.7 )

[node name="Table5" type="Position3D" parent="Tables"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6.1, 0.2, 2.7 )

[node name="Table6" type="Position3D" parent="Tables"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.8, 0.2, -4.7 )

[node name="Table7" type="Position3D" parent="Tables"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.8, 0.2, -2.9 )

[node name="Table8" type="Position3D" parent="Tables"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.8, 0.2, -1.1 )

[node name="Table9" type="Position3D" parent="Tables"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.8, 0.2, 0.6 )

[node name="Table10" type="Position3D" parent="Tables"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.8, 0.2, 2.7 )

[node name="CleanPlates" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.27, 1.46, -4 )

[node name="Plate" parent="CleanPlates" instance=ExtResource( 6 )]

[node name="Plate2" parent="CleanPlates" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.11, 0 )

[node name="Plate3" parent="CleanPlates" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.23, 0 )

[node name="Plate4" parent="CleanPlates" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.35, 0 )

[node name="Plate5" parent="CleanPlates" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.47, 0 )

[node name="Plate6" parent="CleanPlates" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.47, 0.55 )

[node name="Plate7" parent="CleanPlates" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.35, 0.55 )

[node name="Plate8" parent="CleanPlates" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.23, 0.55 )

[node name="Plate9" parent="CleanPlates" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.11, 0.55 )

[node name="Plate10" parent="CleanPlates" instance=ExtResource( 6 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.55 )

[node name="ReadyPlates" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.2 )
[connection signal="body_exited" from="DoorZone" to="." method="_on_DoorZone_body_exited"]
[connection signal="id_pressed" from="UI/DishesPopup" to="." method="_on_DishesPopup_id_pressed"]
[connection signal="confirmed" from="UI/OrderMenu" to="." method="_on_OrderMenu_confirmed"]
